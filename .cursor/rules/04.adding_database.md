---
description: adding database to a role
globs:
  - ansible/roles/apps/*
---

# ⭐⑷✅ Adding Database

When adding a rds database to a role, follow these guidelines:
1. Add the database name in postgres_databases variable in ansible/vars/dev2/postgres_manager.yml. Theres no need to add users as its the same name as the database.
2. Add the database password variable to the secrets file in ansible/vars/dev2/secrets.yml
3. Add the database to the docker compose file in the role.
4. Ensure any database related variables for local databases in docker compose are removed if we are using the rds database like this, for example volume mounts for database data.
5. Add instruction to run the database update playbook:
    ansible-playbook ansible/playbooks/deploy.yml --tags postgres_manager
6. Inform the user that rule ⭐⑷✅ has been applied.