# ansible/roles/common/consul/templates/consul.hcl.j2
datacenter = "{{ consul_datacenter }}"
data_dir = "{{ consul_data_dir }}"
client_addr = "0.0.0.0"
ui = {{ consul_ui_enabled | lower }}

server = true
bootstrap_expect = 1

acl {
  enabled = {{ consul_acl_enabled | lower }}
  default_policy = "{{ consul_acl_default_policy }}"
  enable_token_persistence = true
}

encrypt = "{{ consul_encrypt_key }}"

ports {
  http = {{ consul_http_port }}
  dns = {{ consul_dns_port }}
}

telemetry {
  disable_hostname = true
  prometheus_retention_time = "24h"
}